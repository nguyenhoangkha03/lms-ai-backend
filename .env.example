# ================================
# APPLICATION CONFIGURATION
# ================================
NODE_ENV=development
PORT=3000
API_PREFIX=api/v1
FRONTEND_URL=http://localhost:3001

# ================================
# DATABASE CONFIGURATION
# ================================
DATABASE_HOST=localhost
DATABASE_PORT=3306
DATABASE_USERNAME=root
DATABASE_PASSWORD=
DATABASE_NAME=lms_ai_database
DATABASE_SSL=false

# Database Optimization
DB_CONNECTION_LIMIT=20
DB_ACQUIRE_TIMEOUT=60000
DB_TIMEOUT=60000

# ================================
# REDIS CONFIGURATION
# ================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis Cache Database Numbers
REDIS_CACHE_DB=0
REDIS_SESSION_DB=1
REDIS_TYPEORM_CACHE_DB=2

# ================================
# AUTHENTICATION & SECURITY
# ================================

# JWT Configuration
JWT_SECRET=akaisui2003
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=akaisui2003refresh
JWT_REFRESH_EXPIRES_IN=7d
JWT_REMEMBER_ME_REFRESH_EXPIRATION=30d

# Session Configuration
SESSION_SECRET=your-session-secret-key-change-in-production
SESSION_MAX_AGE=3600
SESSION_SECURE=false
MAX_SESSIONS_PER_USER=5
SESSION_CLEANUP_INTERVAL=3600000

# Cookie Configuration
COOKIE_SECRET=akaisui2003
COOKIE_SECURE=false
COOKIE_SAME_SITE=strict
COOKIE_DOMAIN=localhost

# Password Policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true
PASSWORD_MAX_AGE=7776000
PASSWORD_PREVENT_REUSE=5

# Account Security
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_TIME=900
PASSWORD_RESET_EXPIRES=900000
EMAIL_VERIFICATION_EXPIRES=86400000
EMAIL_VERIFICATION_EXPIRES_HOURS=24
PASSWORD_RESET_EXPIRES_MINUTES=15

# Two-Factor Authentication
TWO_FACTOR_APP_NAME=LMS AI Platform
TWO_FACTOR_ISSUER=LMS AI
TWO_FACTOR_QR_SIZE=200
TWO_FACTOR_BACKUP_CODES_COUNT=8
TWO_FACTOR_CODE_LENGTH=6

# Security Configuration
SECURITY_HELMET=true
SECURITY_COMPRESSION=true
BCRYPT_SALT_ROUNDS=12

# SSL/HTTPS Configuration
SSL_ENABLED=false
SSL_KEY_PATH=./ssl/private.key
SSL_CERT_PATH=./ssl/certificate.crt
SSL_CA_PATH=./ssl/ca-bundle.crt

# Rate Limiting
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100
RATE_LIMIT_AUTH_TTL=300
RATE_LIMIT_AUTH_MAX=5
FILE_DOWNLOAD_RATE_LIMIT=100
FILE_STREAM_RATE_LIMIT=200

# ================================
# OAUTH CONFIGURATION
# ================================
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3000/api/v1/auth/google/callback
FACEBOOK_CLIENT_ID=your-facebook-app-id
FACEBOOK_CLIENT_SECRET=your-facebook-app-secret
FACEBOOK_CALLBACK_URL=http://localhost:3000/api/v1/auth/facebook/callback

# ================================
# CORS CONFIGURATION
# ================================
CORS_ORIGINS=http://localhost:3001,http://localhost:3000
CORS_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_CREDENTIALS=true

# ================================
# FILE STORAGE & UPLOAD
# ================================
STORAGE_TYPE=local
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=10485760
MAX_VIDEO_SIZE=2147483648
MAX_FILES_PER_UPLOAD=10
MAX_FILENAME_LENGTH=255
BLOCK_NULL_BYTES=true

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=
AWS_S3_BUCKET=

# MinIO Configuration (S3-compatible)
MINIO_ENDPOINT=http://localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=lms-files
MINIO_USE_SSL=false

# File Security
VIRUS_SCAN_ENABLED=false
VIRUS_SCAN_API_URL=http://localhost:3310
VIRUS_SCAN_API_KEY=your-clamav-api-key
DANGEROUS_EXTENSIONS=exe,bat,cmd,com,pif,scr,vbs,vbe,ws,wsf,wsc,wsh,ps1,lnk,inf,reg
ALLOWED_MIME_TYPES=image/*,video/*,audio/*,application/pdf,text/*
FILE_CONTENT_SCAN=true

# File Access Control
SIGNED_URL_EXPIRY=3600
SIGNED_URL_SECRET=your-secret-key-for-signing-urls
DEFAULT_FILE_ACCESS=private
PUBLIC_FILE_ACCESS_DOMAINS=yourdomain.com,cdn.yourdomain.com

# ================================
# CDN CONFIGURATION
# ================================
CDN_ENABLED=false
CDN_PROVIDER=custom
CDN_BASE_URL=https://cdn.yourdomain.com
CDN_CACHE_TTL=86400
CDN_COMPRESSION=true
CDN_HOTLINK_PROTECTION=true
CDN_FILE_TYPES=image,video,audio,document

# Cloudflare Configuration
CDN_API_KEY=your-cloudflare-api-key
CDN_ZONE_ID=your-cloudflare-zone-id
CDN_EMAIL=your-cloudflare-email

# AWS CloudFront Configuration
CDN_DISTRIBUTION_ID=your-cloudfront-distribution-id
CDN_PRIVATE_KEY_ID=your-cloudfront-key-id
CDN_PRIVATE_KEY_PATH=/path/to/private-key.pem

# ================================
# IMAGE PROCESSING
# ================================
IMAGE_QUALITY_DEFAULT=85
IMAGE_THUMBNAIL_SIZES=150,300,600
IMAGE_RESPONSIVE_BREAKPOINTS=480,768,1024,1280,1920
IMAGE_WATERMARK_ENABLED=false
IMAGE_WATERMARK_TEXT=LMS Platform
IMAGE_AUTO_OPTIMIZE=true
IMAGE_OUTPUT_FORMATS=jpeg,png,webp,avif
IMAGE_AUTO_FORMAT=true
AUTO_PRELOAD_THUMBNAILS=true
PRELOAD_RESPONSIVE_IMAGES=true
BATCH_PRELOAD_SIZE=10
REMOVE_EXIF_DATA=true

# ================================
# VIDEO PROCESSING
# ================================
VIDEO_TRANSCODING_ENABLED=true
VIDEO_QUALITIES=360p,480p,720p,1080p
VIDEO_THUMBNAIL_COUNT=5
VIDEO_PREVIEW_DURATION=30
VIDEO_ADAPTIVE_STREAMING=true

# FFmpeg Configuration
FFMPEG_PATH=/usr/bin/ffmpeg
FFMPEG_PROBE_PATH=/usr/bin/ffprobe
FFMPEG_THREADS=4

# ================================
# CACHING CONFIGURATION
# ================================
CACHE_TTL=300
CACHE_MAX_ITEMS=1000
FILE_METADATA_CACHE_TTL=300
FILE_URL_CACHE_TTL=3600
CDN_URL_CACHE_TTL=86400

# ================================
# LOGGING CONFIGURATION
# ================================
LOG_LEVEL=debug
LOG_FORMAT=combined
LOG_FILENAME=app.log
LOG_MAX_FILES=5
LOG_MAX_SIZE=10m

# ================================
# BACKUP CONFIGURATION
# ================================
BACKUP_DIR=./src/backups
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true
FILE_BACKUP_ENABLED=false
BACKUP_PROVIDER=s3
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=90

# ================================
# MONITORING & OPTIMIZATION
# ================================
MONITORING_ENABLED=true
METRICS_COLLECTION_INTERVAL=300000
PERFORMANCE_ALERTS=true
AUTO_OPTIMIZE_TABLES=true
OPTIMIZE_SCHEDULE=0 2 * * *
SYSTEM_HEALTH_CHECK_INTERVAL=300000
PERFORMANCE_MONITORING=true
FILE_HEALTH_CHECK_INTERVAL=300000
STORAGE_HEALTH_CHECK=true
CDN_HEALTH_CHECK=true

# Alerts
STORAGE_USAGE_ALERT_THRESHOLD=80
PROCESSING_FAILURE_ALERT_THRESHOLD=10

# ================================
# AI SERVICES
# ================================
AI_SERVICE_URL=http://localhost:8000
AI_SERVICE_TIMEOUT=30000

# OpenAI Configuration
OPENAI_API_KEY=
OPENAI_ORGANIZATION=
OPENAI_PROJECT=

# Chatbot Configuration
CHATBOT_AI_PROVIDER=openai
CHATBOT_MODEL=gpt-4
CHATBOT_MAX_TOKENS=1000
CHATBOT_TEMPERATURE=0.7
CHATBOT_CONTEXT_WINDOW=4000
CHATBOT_DEFAULT_LANGUAGE=en

# Content Moderation
CONTENT_MODERATION_ENABLED=true
PROFANITY_FILTER_ENABLED=true
AI_MODERATION_CONFIDENCE_THRESHOLD=0.8
AUTO_MODERATION_ACTIONS=flag,hide,warn
AUTO_MODERATION_ENABLED=true
CONTENT_MODERATION_AI_PROVIDER=openai
MODERATION_CONFIDENCE_THRESHOLD=0.8

# ================================
# EMAIL CONFIGURATION
# ================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=noreply@yourlms.com
SMTP_FROM_NAME=LMS AI Platform

# Email Provider
EMAIL_PROVIDER=sendgrid
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=noreply@yourlms.com
SENDGRID_FROM_NAME=LMS AI Platform

# Email Templates
EMAIL_VERIFICATION_TEMPLATE=email-verification
PASSWORD_RESET_TEMPLATE=password-reset
WELCOME_TEMPLATE=welcome
ACCOUNT_LOCKED_TEMPLATE=account-locked
PASSWORD_CHANGED_TEMPLATE=password-changed
TWO_FACTOR_ENABLED_TEMPLATE=two-factor-enabled

# ================================
# WEBSOCKET & REAL-TIME
# ================================
WEBSOCKET_PORT=3001
WEBSOCKET_CORS_ORIGINS=http://localhost:3000,http://localhost:3001
WEBSOCKET_ADAPTER=redis

# Chat Configuration
CHAT_MAX_MESSAGE_LENGTH=5000
CHAT_FILE_UPLOAD_MAX_SIZE=50485760
CHAT_ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,ppt,pptx,mp3,mp4
CHAT_MESSAGE_RETENTION_DAYS=365
CHAT_FILE_STORAGE_TYPE=s3
CHAT_S3_BUCKET=lms-chat-files

# ================================
# VIDEO CONFERENCING
# ================================
VIDEO_DEFAULT_PROVIDER=webrtc
VIDEO_RECORDING_STORAGE=s3
VIDEO_S3_BUCKET=lms-video-recordings

# Zoom Configuration
ZOOM_API_KEY=
ZOOM_API_SECRET=
ZOOM_WEBHOOK_SECRET=

# Teams Configuration
TEAMS_CLIENT_ID=
TEAMS_CLIENT_SECRET=

# Jitsi Configuration
JITSI_DOMAIN=meet.jit.si

# ================================
# NOTIFICATION SERVICES
# ================================
NOTIFICATION_QUEUE_ENABLED=true
NOTIFICATION_BATCH_SIZE=100
NOTIFICATION_RETRY_ATTEMPTS=3

# Push Notifications
PUSH_NOTIFICATION_PROVIDER=firebase
FIREBASE_PROJECT_ID=
FIREBASE_PRIVATE_KEY=
FIREBASE_CLIENT_EMAIL=

# SMS Service
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=

# ================================
# THIRD-PARTY INTEGRATIONS
# ================================

# Slack Integration
SLACK_BOT_TOKEN=
SLACK_SIGNING_SECRET=
SLACK_APP_TOKEN=

# Discord Integration
DISCORD_BOT_TOKEN=
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=

# ================================
# BACKGROUND PROCESSING
# ================================

# Queue Configuration
FILE_PROCESSING_QUEUE=file-processing
IMAGE_PROCESSING_QUEUE=image-processing
VIDEO_PROCESSING_QUEUE=video-processing

# Job Settings
FILE_PROCESSING_CONCURRENCY=5
IMAGE_PROCESSING_CONCURRENCY=3
VIDEO_PROCESSING_CONCURRENCY=2

# Performance Settings
PARALLEL_UPLOAD_LIMIT=5
CHUNK_UPLOAD_SIZE=1048576
STREAMING_BUFFER_SIZE=65536

# Cleanup Settings
TEMP_FILE_CLEANUP_INTERVAL=3600000
TEMP_FILE_MAX_AGE=86400
PROCESSED_FILE_RETENTION=2592000

# ================================
# ANALYTICS & TRACKING
# ================================
REAL_TIME_ANALYTICS=true
COMMUNICATION_ANALYTICS=true
CHATBOT_ANALYTICS=true
USER_BEHAVIOR_TRACKING=true
FILE_ANALYTICS_ENABLED=true
TRACK_DOWNLOAD_STATS=true
TRACK_VIEW_STATS=true
TRACK_PROCESSING_STATS=true

# ================================
# AUDIT & COMPLIANCE
# ================================
AUDIT_LOG_LOGIN_ATTEMPTS=true
AUDIT_LOG_PASSWORD_CHANGES=true
AUDIT_LOG_SESSION_ACTIVITY=true
AUDIT_LOG_SECURITY_EVENTS=true
AUDIT_LOG_RETENTION_DAYS=2555
AUDIT_LOG_LEVEL=info

# Data Retention
FILE_RETENTION_POLICY=unlimited
METADATA_RETENTION_DAYS=2555

# Privacy
ANONYMIZE_FILE_LOGS=false
GDPR_COMPLIANCE_MODE=false

# ================================
# DISASTER RECOVERY
# ================================
MULTI_REGION_REPLICATION=false
DISASTER_RECOVERY_REGION=us-west-2
AUTO_FAILOVER_ENABLED=false